<app-topnavnofilter></app-topnavnofilter>
<!--main content start-->
<section id="main-content">
  <section class="wrapper no-padding-lr">
    <div class="container-fluid no-padding-lr">
      <section class="first-setion position-relative clearfix no-padding-lr">
        <div class='logo-container container no-padding-lr'>
          <!-- <div class="summer-icon-wrapper">
            <img src="assets/images/challenge/summer-fun.png">
          </div> -->
          <div class="clearfix d-flex">
            <div class="col-md-6 iframe-style">
              <iframe  src="https://www.youtube.com/embed/LrOxISKffLw" style="border:2px solid black;"></iframe>
            </div>
            <div class="col-md-6 right-list">
              <h4 > What should your child do all summer long? </h4>
              <p> <img class="star-icon" src="assets/images/challenge/yellow-star.png"> A curated list of activities for your kids based on their age & interests.</p>
              <p> <img class="star-icon" src="assets/images/challenge/yellow-star.png"> DIY videos, crafts and book lists to keep the growing minds active.</p>
              <p> <img class="star-icon" src="assets/images/challenge/yellow-star.png"> Tips and tricks to teach your
                child essential life skills over the summer</p>
            </div>
          </div>
        </div>
      </section>

      <section class="cascade-sec">
        <h4> <b>How It Works</b> </h4>
        <div class="cascade-wrapper">
          <div class="each-cascade">
            <span> <img src="assets/images/challenge/challenges.png"> </span>
            <div class="each-casc-cont">
              <h4> BUNDLES </h4>
              <p> Choose bundles based on child's age and interest </p>
            </div>
          </div>
          <span class="right-arrow"> <i class="fa fa-chevron-right"></i> </span>
          <div class="each-cascade">
            <span> <img src="assets/images/challenge/accept.png"> </span>
            <div class="each-casc-cont">
              <h4> ACCEPT </h4>
              <p> Accept bundles and claim into your workspace </p>
            </div>
          </div>
          <span class="right-arrow"> <i class="fa fa-chevron-right"></i> </span>
          <div class="each-cascade">
            <span> <img src="assets/images/challenge/memories.png"> </span>
            <div class="each-casc-cont">
              <h4> MEMORIES </h4>
              <p> Make memories and spend quality time as you complete activities with your child </p>
            </div>
          </div>
          <span class="right-arrow"> <i class="fa fa-chevron-right"></i> </span>
          <div class="each-cascade">
            <span> <img src="assets/images/challenge/review.png"> </span>
            <div class="each-casc-cont">
              <h4> REVIEW </h4>
              <p> Review when you complete an activity or a bundle </p>
            </div>
          </div>
          <!-- <span class="right-arrow"> <i class="fa fa-chevron-right"></i> </span>
          <div class="each-cascade">
            <span> <img src="assets/images/challenge/win.png"> </span>
            <div class="each-casc-cont">
              <h4> WIN </h4>
              <p> Win prizes when you review and complete challenges </p>
            </div>
          </div> -->
        </div>
      </section>

      <!-- Head Section -->
      <!-- <div class="upper-summer-banner">
        <div class="banner-symbols-container">
          <div class="banner-symbols-wrapper" [ngClass]="currentTab == 1 ? 'active': ''">
            <span class="ray"></span>
            <div class="banner-symbols" [ngClass]="currentTab == 1 ? 'active': ''" (click)="filterChallenges(1)">
              <img src="assets/images/challenge/read-white.png" *ngIf="currentTab == 1">
              <img src="assets/images/challenge/read.png" *ngIf="currentTab != 1">
            </div>
            <h6> Read </h6>
          </div>
          <div class="banner-symbols-wrapper" [ngClass]="currentTab == 3 ? 'active': ''">
            <span class="ray"></span>
            <div class="banner-symbols" [ngClass]="currentTab == 3 ? 'active': ''" (click)="filterChallenges(3)">
              <img src="assets/images/challenge/tile.png" *ngIf="currentTab == 3">
              <img src="assets/images/challenge/tile-black.png" *ngIf="currentTab != 3">
            </div>
            <h6> Themes </h6>
          </div>
          <div class="banner-symbols-wrapper" [ngClass]="currentTab == 2 ? 'active': ''">
            <span class="ray"></span>
            <div class="banner-symbols" [ngClass]="currentTab == 2 ? 'active': ''" (click)="filterChallenges(2)">
              <img src="assets/images/challenge/idea-white.svg" *ngIf="currentTab == 2">
              <img src="assets/images/challenge/idea.svg" *ngIf="currentTab != 2">
            </div>
            <h6> Essential Skills </h6>
          </div>
        </div>
        <p *ngIf="currentTab == 1">
          8 weeks of age appropriate, curated books your kids will love to read. Simply pick a challenge and get
          reading!
        </p>

        <p *ngIf="currentTab == 2">
          What life skill should your child master this summer? Choose a skill, follow our simple tips, tricks and
          hacks, and make this summer about creating memories!
        </p>

        <p *ngIf="currentTab == 3">8 weeks of age appropriate, fun DIY activities based on themes your kids are crazy
          about. Watch them learn while they play!</p>
      </div> -->

      <!-- Challenges -->
      <div class="row active-wrapper" style="background-color: #e4e4e4;">
        <div class="col-md-5 chalange-height" style="border-right: 5px solid #fff;">
          <section class="aqua-carousel section-three clearfix">
            <div class="inner-challenge-page-gallery border_golden">
              <h3 class="text-center" style="padding:20px; color: rgb(27, 27, 27);font-weight: bold;" *ngIf="challenges.length || bundle.length">BUNDLES</h3>
              <h3 class="text-center" style="padding:20px; color: rgb(27, 27, 27);font-weight: bold;" *ngIf="!challenges.length && !bundle.length">NO BUNDLES</h3>

              <!-- Carousel Challenges -->

              <!-- select age group start-->
              <p class="font-size21 color-pink center-block" style="text-align: center" >
                Please select your child's age
              </p>
              <select (change)="selectOption($event.target.value)" 
                      class="form-control btn btn-default select-box center-block select-age-dropdown"
                      [(ngModel)]="selected">
                <option selected  disabled value=""> Please select your child's age </option>
                <option [value]="item.age" *ngFor="let item of items">{{item.age}}</option>
              </select>
              <!--bunddle started-->
              <div class=""  *ngIf="challenges.length || bundle.length">
              <div class="award-sec chal-award" *ngFor="let bndl of bundle; let i=index" (click)="getBundleDetails(bndl,i)">
                <!-- data-target="#userLogin" -->
                <div class="each-award-flex bundle bundle-box" [class.active2]="i == selectedRow" data-toggle="modal">
                  <div class="position-relative">
                    <img src="{{bndl.image_or_video_path}}" class="img-responsive center-block new_size" />
                    <span class="chal-tag">{{bndl.age_group}}</span>
                  </div>
                  <div class="award-btn-wrapper til">{{bndl.title}}</div>
                  <div class="col-md-12 flex-bottom-end" >
                    <p class="text-center margin-bottom0 margin-top0 mr_5" *ngIf="bndl.payment == 0 && bndl.free_in_app == 0  && _api.loggedIn()">
                      <span (click)="submitPaymentDet(bndl.id, 1, bndl.payment_link,bndl.price,bndl.title)" class="btn btn-primary btn-sm buy_clr" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                          Get Access for &#x20b9; {{bndl.price}}
                      </span>
                    </p>
                    <p class="text-center margin-bottom0 margin-top0 mr_5 ff" *ngIf="bndl.payment == 0 && bndl.free_in_app == 1 && _api.loggedIn()">
                      <span (click)="submitPaymentDet(bndl.id, 1, bndl.payment_link,bndl.price,bndl.title)" class="btn btn-primary btn-sm buy_clr" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                          Get Access for &#x20b9; {{bndl.price}}
                      </span>
                    </p>
                    <p class="text-center margin-bottom0 margin-top0" *ngIf="bndl.payment == 1 && bndl.free_in_app == 0 && _api.loggedIn()">
                      <a (click)="_router.navigate(['/bundle-individual',bndl.id]);" target="_blank"  class="btn btn-primary btn-sm buy_clr" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                       View Bundle
                      </a>
                    </p>
                    <p class="text-center margin-bottom0 margin-top0" *ngIf="bndl.free_in_app == 1">
                        <a href="https://www.kidsstoppress.com/v1/app" class="btn btn-primary btn-sm buy_clr" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                            Free for app users
                        </a>
                      </p>
                  </div> 
                  <div class="col-md-12 flex-bottom-end" style="padding-top: 5px" *ngIf="!bndl.payment && !_api.loggedIn()">
                    <p class="text-center margin-bottom0 margin-top0">
                      <span (click)="submitPaymentDet(bndl.id, 1, bndl.payment_link,bndl.price,bndl.title)" class="btn btn-primary btn-sm buy_clr" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                          Get Access for &#x20b9; {{bndl.price}}
                      </span>
                    </p>
                    
                    <!-- <p style="margin-top:30px; text-align: center;" *ngIf="bndl.payment == 1">
                      <a (click)="_router.navigate(['/bundle-individual',bndl.id]);" target="_blank"  class="btn btn-primary btn-sm" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                       View Bundle
                      </a>
                    </p> -->
                  </div> 
                </div>
              </div>
            </div>
              <!--bundle end-->
              <!-- select age group end -->
              <div class="award-sec chal-award" *ngFor="let challenge of challenges; let i=index" (click)="getChailangeDetails(challenge,i)">
                <!-- data-target="#userLogin" -->
                <div class="each-award-flex bundle-box" [class.active1]="i == selectedRow1" data-toggle="modal">
                  <div class="position-relative"> 
                    <img src="{{challenge.feature_image}}" class="img-responsive center-block new_size">
                    <span class="chal-tag">{{challenge.age_group}}</span>
                  </div>
                  <div class="award-btn-wrapper til">{{challenge.name}}</div>
                </div>
              </div>
            </div>
          </section>
        </div>
        <div class="col-md-7 " style="padding-top:10px">
          <div *ngIf="chailangeDetails" style="position:relative">
            <img src="{{chailangeDetails.feature_image}}" class="img-responsive center-block" style="width:40%;height:320px; ">
            <span class="chal-tag2">{{chailangeDetails.age_group}}</span>
            <h5 class="font-size21 color-pink center-block" style="margin:20px;margin-left:0">{{chailangeDetails.name}}</h5>
            <h5>{{chailangeDetails.description}}</h5>
            <ngx-carousel [inputs]="carouselTile1" style="width:100%; margin:0px auto;">
              <span class="side-arrow-rapper left" NgxCarouselPrev>
                <span><i class="fa fa-chevron-left"></i></span>
              </span>
              <ngx-tile NgxCarouselItem *ngFor="let book of chailangeDetails.books; let i=index" style="cursor:pointer;">
                <!-- <img src="{{book.img_path}}" class="img-responsive book-image-nside" style="width:100%"[ngClass]="!checkInUserChallenges(currentChallenge.id) ? 'border-curve': ''"> -->
                <div class="each-award-flex position-relative ">
                  <img src="{{book.img_path}}" class="img-responsive center-block book-image" style="width:100%"
                    [ngClass]="!checkInUserChallenges(chailangeDetails.id) ? 'border-curve': ''">

                  <div *ngIf="checkInUserChallenges(chailangeDetails.id)">
                    <!-- Start Reading Book -->
                    <div class="read-status complete" (click)="startReadingBook(book, i)" *ngIf="!book.user_book_id"><i
                        class="fa fa-book"></i> Start Reading </div>

                    <!-- Actions For Book Read/Quit -->
                    <div *ngIf="book.user_book_status == 1">
                      <span class="read-status accepted" (click)="openChangeUserBookStatus(2, book.user_book_id, i)"
                        data-toggle="modal" data-target="#bookStatus"><i class="fa fa-check"></i> Mark as read </span>

                      <span class="read-status quit" (click)="openChangeUserBookStatus(3, book.user_book_id, i)"
                        data-toggle="modal" data-target="#bookStatus"><i class="fa fa-times"></i> Quit </span>
                    </div>

                    <!-- Results with waiting for review and status read -->
                    <div *ngIf="!book.review && book.user_book_status == 2">
                      <span class="read-status accepted" style="background-color: #66c194">
                        <i class="fa fa-check"></i> Read
                      </span>

                      <span class="read-status quit" style="background-color: #0c9eb5" (click)="openReview(book, 'book', i)"
                        data-toggle="modal" data-target="#challengeReview">
                        <i class="fa fa-comment"></i>
                        Review
                      </span>
                    </div>

                    <!-- Results with waiting for review -->
                    <div *ngIf="!book.review && book.user_book_status == 3">
                      <div class="read-status complete" style="background-color:#f1a85a;">
                        <i class="fa fa-times"></i> Quit
                      </div>
                    </div>

                    <!-- Results with Review -->
                    <div *ngIf="book.review">
                      <div class="read-status complete" *ngIf="book.user_book_status == 2">
                        <i class="fa fa-check"></i> Read
                      </div>
                      <div class="read-status complete" style="background-color:#f1a85a;" *ngIf="book.user_book_status == 3">
                        <i class="fa fa-times"></i> Quit
                      </div>
                    </div>
                  </div>
                  <div class="award-btn-wrapper boooks" style="margin-top: 10px;">
                    <p *ngIf="book.buy_link && book.buy_link != null" style="margin:3px; text-align: center;">
                      <a href="{{book.buy_link}}" target="_blank" class="btn btn-primary btn-sm buy_clr" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                        <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                        Buy Now
                      </a>
                    </p>
                    {{book.title}} <sub style="font-weight: normal;">by {{book.author}}</sub>
                    <p style="font-weight: normal; font-size: 13px">
                      {{book.description.length > 80 ? (book.description | slice:0:80)+'...' : book.description}}
                      <a href="javascript:void(0)" data-toggle="modal" data-target="#bookDescription" style="color: #337ab7; font-weight: bold;"
                        (click)="showBookDescription(book)" *ngIf="book.description.length > 80">Read More</a>
                    </p>
                  </div>
                </div>
              </ngx-tile>
              <span class="side-arrow-rapper right" NgxCarouselNext>
                <span><i class="fa fa-chevron-right"></i></span>
              </span>
            </ngx-carousel>
            <!-- <p  style="margin:3px; text-align: center;">
                <a target="_blank" class="btn btn-primary btn-sm" style="color:#fff; font-size: 13px; padding: 5px 10px;width: 50%;">
                  <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                  Buy Now
                </a>
              </p> -->
            <button class="challenge-btn-style" *ngIf="match == 1" (click)="acceptChallenge(currentChallenge)"
              [disabled]="disbaleAcceptButton"> ACCEPT CHALLENGE </button>
            <p class="btn-bottom-text" *ngIf="match == 1">Complete challenges quickly
              to win exciting prizes!</p>
          </div>
          <div class="bundle soon-card-wrapper golden_brdRht" *ngIf="bundleDetails">
              <img src="{{bundleDetails.image_or_video_path}}" class="img-responsive center-block mt_10" style="width:40% ">

              <div class="award-btn-wrapper til">{{bundleDetails.title}}</div>
              <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 bottom-gap">
                  <span class="font-size16 article-content-style display-block" [innerHTML]="bundleDetails.content"></span>
                </div>
            <div class="soon-card">
                <h1 class="text-center">
                  KSP Premium Bundles
                </h1>
                <p> KSP Bundles consist of premium content handpicked and created just for you. Find interesting activities, unique recipes, book recommendations and lots of other fun stuff for your family. </p>
                <p> Creating these videos and content takes a lot of time and effort (and money!) Therefore we are charging a small fee for this premium content and you know, the content is totally worth it! All aboard the Summer Fun Factory! 
                  </p>
            </div>

            <button class="btn btn-primary btn-sm buy_clr" *ngIf=" bundleDetails.payment == 0 && bundleDetails.free_in_app == 0 && _api.loggedIn()" (click)="submitPaymentDet(bundleDetails.id, 1, bundleDetails.payment_link,bundleDetails.price,bundleDetails.title)" > Get Access for &#x20b9; {{bundleDetails.price}} </button>
            <button class="btn btn-primary btn-sm buy_clr" *ngIf=" bundleDetails.payment == 0 && bundleDetails.free_in_app == 1 && _api.loggedIn()" (click)="submitPaymentDet(bundleDetails.id, 1, bundleDetails.payment_link,bundleDetails.price,bundleDetails.title)" > Get Access for &#x20b9; {{bundleDetails.price}} </button>
            <button class="btn btn-primary btn-sm buy_clr" *ngIf="!bundleDetails.payment && bundleDetails.free_in_app == 1 && !_api.loggedIn()" (click)="submitPaymentDet(bundleDetails.id, 1, bundleDetails.payment_link,bundleDetails.price,bundleDetails.title)" > Get Access for &#x20b9; {{bundleDetails.price}} </button>
            <button class="btn btn-primary btn-sm buy_clr" *ngIf="!bundleDetails.payment && !bundleDetails.free_in_app && !_api.loggedIn()" (click)="submitPaymentDet(bundleDetails.id, 1, bundleDetails.payment_link,bundleDetails.price,bundleDetails.title)" > Get Access for &#x20b9; {{bundleDetails.price}} </button>
            <button class="btn btn-primary btn-sm buy_clr" *ngIf="bundleDetails.payment == 1 && bundleDetails.free_in_app == 0 && _api.loggedIn()" (click)="_router.navigate(['/bundle-individual',bundleDetails.id]);" target="_blank" > View Bundle </button>
            <button class="btn btn-primary btn-sm buy_clr" *ngIf="bundleDetails.free_in_app == 1" (click)="toPlaystore()"> Free for app users </button>
            
            <!-- <img src="{{bundleDetails.image_or_video_path}}" class="img-responsive center-block">
            <div style="width:100%;margin-top:20px;">
              <span class="categories" *ngFor="let cat of bundleDetails.category; let i=index">{{cat.name}}</span>
              <h2 style="margin-top:10px;">{{bundleDetails.title}}</h2>
            </div>
            <h2 style="margin-top:10px;color: #ee426c;">Bundle Items</h2>
            <div class="col-md-4" *ngFor="let item of bundleDetails.item_details; let i=index">
              <img src="{{item.image_or_video_path}}" class="img-responsive center-block" style="width:80%;">
              <h4>{{item.title}}</h4>
              <p>{{item.description}}</p>
            </div>-->
          </div>
        </div>
      </div>


      <!-- Challenge Details -->
      <div id="challengeDetails" *ngIf="_api.loggedIn()">
        <!-- Books -->
        <section class="read-page-gallery section-four" *ngIf="currentChallenge && currentChallenge.challenge_type == 1">
          <div class="inner-read-page-gallery">
            <div class="award-sec" *ngIf="currentChallenge.books.length">
              <ngx-carousel [inputs]="carouselTile" style="width:100%; margin:0px auto;">
                <span class="side-arrow-rapper left" NgxCarouselPrev>
                  <span><i class="fa fa-chevron-left"></i></span>
                </span>
                <ngx-tile class="item-wrapper" NgxCarouselItem *ngFor="let book of currentChallenge.books; let i=index"
                  style="cursor:pointer;">
                  <div class="each-award-flex position-relative">
                    <img src="{{book.img_path}}" class="img-responsive center-block book-image" style="width:100%"
                      [ngClass]="!checkInUserChallenges(currentChallenge.id) ? 'border-curve': ''">

                    <div *ngIf="checkInUserChallenges(currentChallenge.id)">
                      <!-- Start Reading Book -->
                      <div class="read-status complete" (click)="startReadingBook(book, i)" *ngIf="!book.user_book_id"><i
                          class="fa fa-book"></i> Start Reading </div>

                      <!-- Actions For Book Read/Quit -->
                      <div *ngIf="book.user_book_status == 1">
                        <span class="read-status accepted" (click)="openChangeUserBookStatus(2, book.user_book_id, i)"
                          data-toggle="modal" data-target="#bookStatus"><i class="fa fa-check"></i> Mark as read </span>

                        <span class="read-status quit" (click)="openChangeUserBookStatus(3, book.user_book_id, i)"
                          data-toggle="modal" data-target="#bookStatus"><i class="fa fa-times"></i> Quit </span>
                      </div>

                      <!-- Results with waiting for review and status read -->
                      <div *ngIf="!book.review && book.user_book_status == 2">
                        <span class="read-status accepted" style="background-color: #66c194">
                          <i class="fa fa-check"></i> Read
                        </span>

                        <span class="read-status quit" style="background-color: #0c9eb5" (click)="openReview(book, 'book', i)"
                          data-toggle="modal" data-target="#challengeReview">
                          <i class="fa fa-comment"></i>
                          Review
                        </span>
                      </div>

                      <!-- Results with waiting for review -->
                      <div *ngIf="!book.review && book.user_book_status == 3">
                        <div class="read-status complete" style="background-color:#f1a85a;">
                          <i class="fa fa-times"></i> Quit
                        </div>
                      </div>

                      <!-- Results with Review -->
                      <div *ngIf="book.review">
                        <div class="read-status complete" *ngIf="book.user_book_status == 2">
                          <i class="fa fa-check"></i> Read
                        </div>
                        <div class="read-status complete" style="background-color:#f1a85a;" *ngIf="book.user_book_status == 3">
                          <i class="fa fa-times"></i> Quit
                        </div>
                      </div>
                    </div>
                    <div class="award-btn-wrapper" style="margin-top: 10px;">
                      <p *ngIf="book.buy_link && book.buy_link != null" style="margin:3px; text-align: center;">
                        <a href="{{book.buy_link}}" target="_blank" class="btn btn-primary btn-sm buy_clr" style="color:#fff; font-size: 13px; padding: 5px 10px;">
                          <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                          Buy Now
                        </a>
                      </p>
                      {{book.title}} <sub style="font-weight: normal;">by {{book.author}}</sub>
                      <p style="font-weight: normal; font-size: 13px">
                        {{book.description.length > 80 ? (book.description | slice:0:80)+'...' : book.description}}
                        <a href="javascript:void(0)" data-toggle="modal" data-target="#bookDescription" style="color: #337ab7; font-weight: bold;"
                          (click)="showBookDescription(book)" *ngIf="book.description.length > 80">Read More</a>
                      </p>
                    </div>
                  </div>
                </ngx-tile>
                <span class="side-arrow-rapper right" NgxCarouselNext>
                  <span><i class="fa fa-chevron-right"></i></span>
                </span>
              </ngx-carousel>
            </div>
            <!-- <button class="challenge-btn-style" *ngIf="match == 1" (click)="acceptChallenge(currentChallenge)"
              [disabled]="disbaleAcceptButton"> ACCEPT CHALLENGE </button>
            <p class="btn-bottom-text" *ngIf="match == '1'">Complete challenges quickly
              to win exciting prizes!</p> -->
          </div>
        </section>

        <section class="accord-data-wrapper section-four" *ngIf="currentChallenge && (currentChallenge.challenge_type == 2 || currentChallenge.challenge_type == 3)">
          <div class="accord-data-container">
            <button class="challenge-btn-style" *ngIf="!checkInUserChallenges(currentChallenge.id)" (click)="acceptChallenge(currentChallenge)"
              [disabled]="disbaleAcceptButton"> ACCEPT CHALLENGE </button>
            <p class="btn-bottom-text" *ngIf="!checkInUserChallenges(currentChallenge.id)">Complete challenges quickly
              to win exciting prizes!</p>

            <div [innerHTML]="currentChallenge.details"></div>
          </div>
        </section>
      </div>

      <!-- MY SUMMER CHALLENGES BOARD -->
      <section class="challenge-section-wrapper section-five" *ngIf="userChallenges.length && _api.loggedIn()">
        <div class="inner-challenge-section">
          <h3>MY SUMMER CHALLENGES AND BUNDLES</h3>
          <div class="challenge-container">
            <div class="each-challenge" *ngFor="let item of userChallenges; let i=index">
              <div class="position-relative">
                <img class="dummy" [src]="item.challenge.feature_image" style="width:100%; border:1px solid #eee;cursor: pointer"
                  (click)="moveToChallengeContent(item.challenge)">
                <div *ngIf="item.status == 1" class="progress-wrapper">
                  <div class="progress-0">0</div>
                  <div class="progress progress-div">
                    <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"
                      [ngStyle]="{'width':challengePercent(item)}">
                    </div>
                  </div>
                  <div class="progress-100">100%</div>
                </div>
                <div class="sub-title" [ngClass]="item.status == 1 ? 'double': ''">
                  <!-- Completed challenge -->
                  <span class="color-blue-success" *ngIf="item.status == 1" (click)="openChangeMyChallengeStatus(2, item.id, i)"
                    style="cursor:pointer;" data-toggle="modal" data-target="#challengeStatus"><i class="fa fa-check"></i>
                    Mark as completed</span>

                  <!-- Quit challenge -->
                  <span class="success color-orange-quit" *ngIf="item.status == 1" (click)="openChangeMyChallengeStatus(3, item.id, i)"
                    style="cursor:pointer;" data-toggle="modal" data-target="#challengeStatus"> <i class="fa fa-times"></i>
                    Quit</span>

                  <!-- Wating for review -->
                  <div class="result" *ngIf="item.status == 2 && !item.challenge.review">
                    <span class="completed"><i class="fa fa-check"></i> Completed</span>
                    <span class="review color-blue-review" data-toggle="modal" data-target="#challengeReview" (click)="openReview(item.challenge, 'challenge', i)"><i
                        class="fa fa-comment"></i> Review </span>
                  </div>

                  <div class="result" *ngIf="item.status == 3 && !item.challenge.review">
                    <span class="bottom-full-width"><i class="fa fa-times"></i>Quit</span>
                  </div>

                  <span class="success bottom-full-width" *ngIf="item.status == 2 && item.challenge.review"><i class="fa fa-check"></i>
                    Challenge Completed</span>
                  <span class="bottom-full-width" *ngIf="item.status == 3 && item.challenge.review"><i class="fa fa-times"></i>Quit</span>
                </div>
              </div>
              <div class="award-btn-wrapper my-challenge-name">{{item.challenge.name}}</div>
            </div>
            <div class="each-challenge" *ngFor="let itemBun of userBundles; let i=index">
                <div class="position-relative">
                  <img class="dummy" [src]="itemBun.image_or_video_path" style="width:100%; border:1px solid #eee;cursor: pointer">        
                 
                </div>
                <div class="award-btn-wrapper my-challenge-name">{{itemBun.title}}</div>
              </div>
          </div>
        </div>
      </section>

      <!-- Share -->
      <div class="container">
        <app-web-inline-share [shareCount]="shareCount"></app-web-inline-share>
      </div>

      <!-- Recommended -->
      <section class="recommend-sec section-six clearfix" *ngIf="recommendedArticles.length && _api.loggedIn()">
        <div class="inner-recommend">
          <h3> Recommended </h3>
          <app-generic-carousel [carauselId]="'summersFunfactory'" [articleList]="recommendedArticles"></app-generic-carousel>
        </div>
        <div class="concave-curve">
          <img src="assets/images/challenge/area.png">
        </div>
      </section>

      <!-- <section class="banner-space">
        <a routerLink="/social-individual/15369"><img src="assets/images/challenge/banner1.jpg" class="image_responsive"></a>
      </section> -->
    </div>
  </section>
  <hr>
</section>
<div id="challengeStatus" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div class="profile-sidebar">
          <div class="col-md-12 paddingNo">
            <h4>
              <a href="javascript:void(0)" class="color-pink" *ngIf="challengeStatus && challengeStatus.status == 2">Congrats!
                You have done so well! What did your child like about the challenge?</a>
              <a href="javascript:void(0)" class="color-pink" *ngIf="challengeStatus && challengeStatus.status == 3">
                Are you sure to quit this challenge? We are sorry to see you go</a>
            </h4>
          </div>
          <br>
          <hr>
        </div>

        <div class="row text-center" *ngIf="challengeStatus && challengeStatus.status == 2">
          <div class="col-md-12 col-lg-12">
            <textarea class="form-control" style="width:100%" [(ngModel)]="review" placeholder="Please enter text here ..."></textarea>

            <div class="col-md-12 paddingNo">
              <div class="col-md-2 paddingNo">
                <label><b>Upload Photo : </b></label>
              </div>
              <div class="col-md-10" style="text-align: left;">
                <div class="fileUpload-lghtgreen btn btn-primary" style="margin:0px; height: auto;">
                  <input class="upload event_upload_btn" type="file" id="event_pic" name="event_pic" accept=".jpg, .jpeg, .png, .bmp"
                    [(ngModel)]="event_pic" (change)="fileChange($event)">
                </div>
                <p style="font-size: 13px"> (Max. file size: 5 Mb; File formats allowed: .jpg, .jpeg, .png)
                  <br>Recommended resolution (in pixel): 600 &times; 400
                </p>
                <p style="color:green; font-size:13px" *ngIf="imageUploadMessage">{{imageUploadMessage}}</p>
                <p style="color:red; font-size:13px" *ngIf="imageErrorMessage">{{imageErrorMessage}}</p>
              </div>
            </div>

            <div class="col-md-12 paddingNo">
              <div class="col-md-2 paddingNo">
                <label><b>Upload video : </b></label>
              </div>
              <div class="col-md-10" style="text-align: left;">
                <div class="fileUpload-lghtgreen btn btn-primary" style="margin:0px; height: auto;">
                  <input class="upload event_upload_btn" type="file" id="event_video" name="event_video" accept=".mp4"
                    [(ngModel)]="event_video" (change)="videoChange($event)">
                </div>
                <p style="font-size: 13px"> (Max. file size: 50 Mb; File formats allowed: .mp4)</p>
                <p style="color:green; font-size:13px" *ngIf="videoUploadMessage">{{videoUploadMessage}}</p>
                <p style="color:red; font-size:13px" *ngIf="videoErrorMessage">{{videoErrorMessage}}</p>
              </div>
            </div>

          </div>
          <div class="col-md-12 col-lg-12 margin-top" style="width:auto">
            <div class="col-md-3 col-lg-3 paddingNo">
              <a href="javascript:void(0);" (click)="changeMyChallengeStatus()" class="btn green-background blue-green font-size15"
                data-dismiss="modal">Submit</a>
            </div>
          </div>
        </div>

        <div class="row text-center" *ngIf="challengeStatus && challengeStatus.status == 3">
          <div class="col-md-12 col-lg-12 margin-top" style="display:flex; justify-content: center;">
            <div class="col-md-3 col-lg-3 paddingNo" style="width: auto">
              <a href="javascript:void(0);" (click)="changeMyChallengeStatus()" class="btn green-background blue-green font-size15"
                data-dismiss="modal">Yes</a>
            </div>
            <div class="col-md-3 col-lg-3 paddingNo" style="width: auto; margin-left: 20px">
              <a href="javascript:void(0);" class="btn green-background blue-green font-size15" data-dismiss="modal">I
                will try again</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="bookStatus" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div class="profile-sidebar">
          <div class="col-md-12 paddingNo">
            <h4>
              <a href="javascript:void(0)" class="color-pink" *ngIf="bookStatus && bookStatus.status == 2">Congrats!
                What did your child think about the book ?</a>
              <a href="javascript:void(0)" class="color-pink" *ngIf="bookStatus && bookStatus.status == 3"> Are you
                sure to quit this book? We are sorry to see you go</a>
            </h4>
          </div>
          <br>
          <hr>
        </div>

        <div class="row text-center" *ngIf="bookStatus && bookStatus.status == 2">
          <div class="col-md-12 col-lg-12">
            <textarea class="form-control" style="width:100%" [(ngModel)]="review" placeholder="Please enter text here ..."></textarea>

            <div class="col-md-12 paddingNo">
              <div class="col-md-2 paddingNo">
                <label><b>Upload Photo : </b></label>
              </div>
              <div class="col-md-10" style="text-align: left;">
                <div class="fileUpload-lghtgreen btn btn-primary" style="margin:0px; height: auto;">
                  <input class="upload event_upload_btn" type="file" id="event_pic" name="event_pic" accept=".jpg, .jpeg, .png, .bmp"
                    [(ngModel)]="event_pic" (change)="fileChange($event)">
                </div>
                <p style="font-size: 13px"> (Max. file size: 5 Mb; File formats allowed: .jpg, .jpeg, .png)
                  <br>Recommended resolution (in pixel): 600 &times; 400
                </p>
                <p style="color:green; font-size:13px" *ngIf="imageUploadMessage">{{imageUploadMessage}}</p>
                <p style="color:red; font-size:13px" *ngIf="imageErrorMessage">{{imageErrorMessage}}</p>
              </div>
            </div>

            <div class="col-md-12 paddingNo">
              <div class="col-md-2 paddingNo">
                <label><b>Upload video : </b></label>
              </div>
              <div class="col-md-10" style="text-align: left;">
                <div class="fileUpload-lghtgreen btn btn-primary" style="margin:0px; height: auto;">
                  <input class="upload event_upload_btn" type="file" id="event_video" name="event_video" accept=".mp4"
                    [(ngModel)]="event_video" (change)="videoChange($event)">
                </div>
                <p style="font-size: 13px"> (Max. file size: 50 Mb; File formats allowed: .mp4)</p>
                <p style="color:green; font-size:13px" *ngIf="videoUploadMessage">{{videoUploadMessage}}</p>
                <p style="color:red; font-size:13px" *ngIf="videoErrorMessage">{{videoErrorMessage}}</p>
              </div>
            </div>
          </div>
          <div class="col-md-12 col-lg-12 margin-top">
            <div class="col-md-3 col-lg-3 paddingNo" style="width:auto">
              <a href="javascript:void(0);" (click)="changeUserBookStatus()" class="btn green-background blue-green font-size15"
                data-dismiss="modal">Submit</a>
            </div>
          </div>
        </div>

        <div class="row text-center" *ngIf="bookStatus && bookStatus.status == 3">
          <div class="col-md-12 col-lg-12 margin-top" style="display: flex;justify-content: center;">
            <div class="col-md-3 col-lg-3 paddingNo" style="width: auto;">
              <a href="javascript:void(0);" (click)="changeUserBookStatus()" class="btn green-background blue-green font-size15"
                data-dismiss="modal">Yes</a>
            </div>
            <div class="col-md-3 col-lg-3 paddingNo" style="width: auto; margin-left: 20px">
              <a href="javascript:void(0);" class="btn green-background blue-green font-size15" data-dismiss="modal">I
                will try again</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="challengeReview" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div class="profile-sidebar">
          <div class="col-md-12 paddingNo">
            <h4>
              <a href="javascript:void(0)" class="color-pink" *ngIf="itemToReview && itemToReview.type == 'book'">Congrats!
                What did your child think about the book ?</a>
              <a href="javascript:void(0)" class="color-pink" *ngIf="itemToReview && itemToReview.type == 'challenge'">Congrats!
                You have done so well! What did your child like about the challenge?</a>
            </h4>
          </div>
          <br>
          <hr>
        </div>

        <div class="row text-center">
          <div class="col-md-12 col-lg-12">
            <textarea class="form-control" style="width:100%" [(ngModel)]="review" placeholder="Please enter text here ..."></textarea>

            <div class="col-md-12 paddingNo">
              <div class="col-md-2 paddingNo">
                <label><b>Upload Photo : </b></label>
              </div>
              <div class="col-md-10" style="text-align: left;">
                <div class="fileUpload-lghtgreen btn btn-primary" style="margin:0px; height: auto;">
                  <input class="upload event_upload_btn" type="file" id="event_pic" name="event_pic" accept=".jpg, .jpeg, .png, .bmp"
                    [(ngModel)]="event_pic" (change)="fileChange($event)">
                </div>
                <p style="font-size: 13px"> (Max. file size: 5 Mb; File formats allowed: .jpg, .jpeg, .png)
                  <br>Recommended resolution (in pixel): 600 &times; 400
                </p>
                <p style="color:green; font-size:13px" *ngIf="imageUploadMessage">{{imageUploadMessage}}</p>
                <p style="color:red; font-size:13px" *ngIf="imageErrorMessage">{{imageErrorMessage}}</p>
              </div>
            </div>

            <div class="col-md-12 paddingNo">
              <div class="col-md-2 paddingNo">
                <label><b>Upload video : </b></label>
              </div>
              <div class="col-md-10" style="text-align: left;">
                <div class="fileUpload-lghtgreen btn btn-primary" style="margin:0px; height: auto;">
                  <input class="upload event_upload_btn" type="file" id="event_video" name="event_video" accept=".mp4"
                    [(ngModel)]="event_video" (change)="videoChange($event)">
                </div>
                <p style="font-size: 13px"> (Max. file size: 50 Mb; File formats allowed: .mp4)</p>
                <p style="color:green; font-size:13px" *ngIf="videoUploadMessage">{{videoUploadMessage}}</p>
                <p style="color:red; font-size:13px" *ngIf="videoErrorMessage">{{videoErrorMessage}}</p>
              </div>
            </div>
          </div>
          <div class="col-md-12 col-lg-12 margin-top">
            <div class="col-md-3 col-lg-3 paddingNo" style="width:auto">
              <a href="javascript:void(0);" (click)="saveReview()" class="btn green-background blue-green font-size15"
                data-dismiss="modal">Submit</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="userLogin" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div>
          <div class="panel panel-default">
            <div class="text-center small-text">
              <p class="font-size21 color-pink">Oops! Seems like you are not logged in.</p>
              <p class="font-size18">Please use the login utility to sign in to the platform and to participate in <i>#KSPSummerFunFactory</i>
                challenges.</p>
              <div class="margin-top8per">
                <button class="btn pink-color-button font-size15" data-dismiss="modal" (click)="gotoLogin()">Log In</button>
                <button class="btn pink-color-button font-size15" data-dismiss="modal" (click)="gotoRegister()">Register</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="guestDetails" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body">
          <div class="pull-right">
            <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
          </div>
          <div>
            <div class="panel panel-default">
              <div class="text-center small-text">
                <p class="font-size21 color-pink">Thanks for visiting KSP.</p>
                <p class="font-size18">Please give us Some Details to get regular Updates on <i>#KSPSummerFunFactory</i></p>
                
                <div class="margin-top8per">
                    <div class="input-group col-lg-12 col-md-12 col-sm-12 col-xs-12" id="email">
                        <input type="text" class="form-control border-rads" placeholder="Email Id" [(ngModel)] = "email"/>
                         </div>
                      <div class="input-group col-lg-12 col-md-12 col-sm-12 col-xs-12" id="password">
                        <input type="number" class="form-control border-rads" placeholder="Mobile Number" [(ngModel)] = "mobNo"/>
                      </div>
                  <button class="btn pink-color-button font-size15" data-dismiss="modal" (click)="submitGuestDet()">Submit</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<div id="bookDescription" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div class="profile-sidebar">
          <div class="col-md-12 paddingNo">
            <h4><a class="color-pink">{{bookData.title}}</a></h4>
          </div>
          <br>
          <hr>
        </div>
        <div>
          <div class="panel panel-default">
            <div class="text-center small-text">
              <p class="font-size18">{{bookData.description}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="pendingChallenge" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div>
          <div class="panel panel-default">
            <div class="text-center small-text">
              <p class="font-size18">Good job! Keep going! Do a little everyday to add to your summer fun!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="selectChallenge" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div>
          <div class="panel panel-default">
            <div class="text-center small-text">
              <p class="font-size18">please select your child</p>
              <select (change)="selectChild($event.target.value)" class="form-control btn btn-default select-box center-block"
                [(ngModel)]="selectedChild">
                <option [value]="item.id" *ngFor="let item of child">{{item.name}}</option>
              </select>
              <button class="btn pink-color-button font-size15" data-dismiss="modal" data-dismiss="modal">Done</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="chalangenotcompable" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div>
          <div class="panel panel-default">
            <div class="text-center small-text">
              <p class="font-size18">oops your child is not eligible for this challenge!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div id="greatchoice" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div class="pull-right">
          <a class="closePopup closeButton" href="javascript:void(0);" data-dismiss="modal">×</a>
        </div>
        <div>
          <div class="panel panel-default">
            <div class="text-center small-text">
              <p class="font-size18">Great choice! Your child will love this one!</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  console.log('ewrewrewrewr ewrewrew ew');
  Instamojo.configure({
    directPaymentMode: 'net banking'
  });
</script>
<p #dataContainer></p>